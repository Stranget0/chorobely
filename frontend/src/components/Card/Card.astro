---
import type { Card, Stage } from "../../types";
import getCssUrl from "../../utils/getCssUrl";

type Props = Card & Pick<Stage, "priceMod"> & { index: number; length: number };
const { id, title, value, image, priceMod, textColor, index, length } =
  Astro.props;

const backgroundImage = getCssUrl(image);
---

<li
  class='relative motion-safe:animate-appear-reversed-300 bg-cover bg-center w-40 flex flex-col justify-between px-4 py-3 rounded-xl aspect-card bg-stone-200'
  id={id}
>
  <button
    style={{
      backgroundImage,
      color: textColor,
    }}
    role='option'
    aria-setsize={length}
    aria-posinset={index + 1}
    data-price-mod={priceMod}
    data-value={value}
    class='card absolute inset-0 rounded-xl w-full motion-safe:transition-[opacity,transform] ease-out opacity-80 hover:scale-105 hover:opacity-100 focus:scale-105 focus:opacity-100'
  >
    <h3 class='title w-full my-2'>{title}</h3>
    <h4 class='price'></h4>
  </button>
</li>
